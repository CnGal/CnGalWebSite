@inject IDataCacheService _dataCacheService
@inject NavigationManager NavigationManager

<MDialog @bind-Value="Dialog"
         Width="250">
    <MDCard Class="w-100 pa-4">
            <MButton Text Block  Color="primary"  OnClick="@(()=>OnClick("/entries/establishentry"))">
                <MIcon Left>mdi-archive</MIcon>
                创建词条
            </MButton>
            <MButton Text Block  Color="primary"  OnClick="@(()=>OnClick("/articles/createarticle"))">
                <MIcon Left>mdi-script-text</MIcon>
                发表文章
            </MButton>
            <MButton Text Block  Color="primary"  OnClick="@(()=>OnClick("/videos/create"))">
                <MIcon Left>mdi-animation-play </MIcon>
                发布视频
            </MButton>
            <MButton Text Block  Color="primary"  OnClick="@(()=>OnClick("/tags/createtag"))">
                <MIcon Left>mdi-tag</MIcon>
                创建标签
            </MButton>
            <MButton Text Block  Color="primary"  OnClick="@(()=>OnClick("/peripheries/createperiphery"))">
                <MIcon Left>mdi-basket</MIcon>
                创建周边
            </MButton>

            <AuthorizeView Roles="Admin">
                <Authorized>
                    <MButton Text Block  Color="primary"  OnClick="@(()=>OnClick("/lotteries/createlottery"))">
                        <MIcon Left>mdi-wallet-giftcard </MIcon>
                        创建抽奖
                    </MButton>
                    <MButton Text Block  Color="primary"  OnClick="@(()=>OnClick("/votes/createvote"))">
                        <MIcon Left>mdi-vote</MIcon>
                        发起投票
                    </MButton>
                </Authorized>
            </AuthorizeView>
    </MDCard>
</MDialog>
@code {
    bool Dialog { get; set; }


    public void OnClick(string url)
    {
        NavigationManager.NavigateTo(url);
        Dialog = false;
        StateHasChanged();
        
    }


    public async Task Refresh(bool dialog)
    {
        Dialog = dialog;

        StateHasChanged();
    }
}
