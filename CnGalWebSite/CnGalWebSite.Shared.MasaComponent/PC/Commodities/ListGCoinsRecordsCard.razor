@inject IHttpService _httpService
@inject IPopupService PopupService
@inject NavigationManager NavigationManager

<MDCard>
    <DataTableCard TModel="GCoinsRecordOverviewModel" Headers="_headers" ApiUrl="@(_baseUrl)" Title="@($"{_name}列表")" ShowAddButton="false" @ref="dataTableCard">
        <ItemColContent>
            @if (context.Header.Value == nameof(GCoinsRecordOverviewModel.Time))
            {
                @context.Item.Time.ToString("yyyy-MM-dd HH:mm")
            }
            else
            {
                @context.Value
            }
        </ItemColContent>
    </DataTableCard>

</MDCard>

@code {
    private string _baseUrl = "api/commodities/ListGCoinsRecord";
    private string _name = "G币记录";

    private List<DataTableHeader<GCoinsRecordOverviewModel>> _headers = new List<DataTableHeader<GCoinsRecordOverviewModel>>
{
          new (){ Text= "时间", Value= nameof(GCoinsRecordOverviewModel.Time)},
          new (){ Text= "G币变动", Value= nameof(GCoinsRecordOverviewModel.Count)},
          new (){ Text= "备注", Value= nameof(GCoinsRecordOverviewModel.Note)},
    };

    DataTableCard<GCoinsRecordOverviewModel> dataTableCard;
}
