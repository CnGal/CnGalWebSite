@inject ToastService ToastService
@inject IServiceProvider Provider
@inject NavigationManager NavigationManager

@if (Model.RelevancesState == EditState.Preview)
{
    <CnGalWebSite.Shared.MasaComponent.Shared.Editors.Buttons.RevokeButton Url="@("/articles/EditRelevances/" + Model.Id)" ExamineType="Operation.EditArticleRelevanes" OnClickRevoke="OnRevoke" />
}
<div>
    <CnGalWebSite.Shared.MasaComponent.PC.Videos.Relevances.GroupCard Model="Model.RelatedVideos" />
    @if (Model.RelatedEntries.Any())
    {
        <CnGalWebSite.Shared.MasaComponent.Shared.Components.MasaTitleContainer Icon="@IconType.Entry.ToIconString()" Title="相关词条" Outline Collapable>
            <div class="mt-3">


                <div>
                    @foreach (var item in Model.RelatedEntries)
                    {
                        <div class="mb-3">
                            <CnGalWebSite.Shared.Component.Search.NewVersion.EntryInforViewTip Model="item" ShowType />
                        </div>
                    }

                </div>
            </div>

        </CnGalWebSite.Shared.MasaComponent.Shared.Components.MasaTitleContainer>
    }
    @if (Model.RelatedArticles.Any())
    {
        <CnGalWebSite.Shared.MasaComponent.Shared.Components.MasaTitleContainer Icon="@IconType.Article.ToIconString()" Title="相关文章" Outline Collapable>
            <div class="mt-3">


                <div>
                    @foreach (var item in Model.RelatedArticles)
                    {
                        <div class="mb-3">
                            <CnGalWebSite.Shared.Component.Search.NewVersion.ArticleInforViewTip Model="item" />
                        </div>
                    }

                </div>
            </div>

        </CnGalWebSite.Shared.MasaComponent.Shared.Components.MasaTitleContainer>
    }

</div>


@code {
    [Parameter]
    public ArticleViewModel Model { get; set; }

    [Parameter]
    public EventCallback<Operation> OnRevoke { get; set; }
}
