@inherits LayoutComponentBase
@inject NavigationManager NavigationManager
@inject IJSRuntime JS
@inject IPopupService PopupService

<MAppBar App Class="elevation-2" Style="background-color: var(--md-sys-color-background)!important;">
     <div style=" word-break: keep-all;" class="ms-4 me-8">
        <CnGalWebSite.ProjectSite.Shared.Components.Layout.LogoCard />
    </div>
     <MTabs Class="cngal-main-tab-card" Routable>
        <MTab Href="/" OnClick="@(()=>NavigationManager.NavigateTo("/"))">首页</MTab>
        <MTab Href="/#evaluations-card">专题推荐</MTab>
        <MTab Href="/#recommends">随机推荐</MTab>
        <MTab Href="/cv">CV</MTab>
        <MTab Href="/square">广场</MTab>
        <MTab Href="/sharegames">晒库存</MTab>
    </MTabs>
    <MSpacer></MSpacer>
    <CnGalWebSite.Components.Buttons.MasaButton Icon="@IconType.Setting.ToIconString()" Tooltip="设置" OnClick="OnClickSetting" Class="me-2"/>
    <CnGalWebSite.ProjectSite.Shared.Components.Layout.Users.LoginButton/>
</MAppBar>

<MMain>
    <CnGalWebSite.Components.Containers.MasaContainer>
        @Body
    </CnGalWebSite.Components.Containers.MasaContainer>
</MMain>
<MFooter App Padless Absolute>
    <CnGalWebSite.ProjectSite.Shared.Components.Layout.FooterCard />
</MFooter>
<CnGalWebSite.Components.Verifications.SynchronousAuthStateCard />


<CnGalWebSite.ProjectSite.Shared.Components.Layout.SettingDialog @ref="settingDialog" />

@code {
    CnGalWebSite.ProjectSite.Shared.Components.Layout.SettingDialog settingDialog;

    public void OnClickSetting()
    {
        settingDialog?.Refresh();
    }
}
